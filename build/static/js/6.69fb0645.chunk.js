(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[6],{144:function(e,t,n){"use strict";n.r(t);var a=n(21),r=n(40),o=n(2),c=n.n(o),i=n(6),s=n(0),l=n.n(s),u=n(26),d=n(5),m=n(100),b=n.n(m),v=n(23),f=n.n(v),p=n(104);function E(e){var t=e.i,n=e.restriction,r=e.getBoardColumns,o=e.editRestriction,m=e.deleteRestriction,v=e.boardsForDropdown,E=e.onSetRestriction,g=Object(s.useState)([]),j=Object(d.a)(g,2),O=j[0],h=j[1],k=Object(s.useState)({edit:!1,delete:!1,board:!1,columns:!1}),w=Object(d.a)(k,2),N=w[0],R=w[1];Object(s.useEffect)((function(){n&&C()}),[n]);var C=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:t=e.sent,h(t),console.log("getColumns -> columns",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e,t){R(Object(a.a)(Object(a.a)({},N),{},Object(u.a)({},e,t)))};return n?l.a.createElement("div",{className:"restriction",key:t},l.a.createElement("label",{className:"restriction-label"},"Board",l.a.createElement(p.a,{className:"restriction-select",options:v,placeholder:"Please choose a board",onChange:function(e){E(t,e,!0,x)},value:n.board,isLoading:null===N||void 0===N?void 0:N.board})),l.a.createElement("label",{className:"restriction-label"},"Columns",l.a.createElement(p.a,{className:"restriction-select",placeholder:"Please choose mandatory columns",onChange:function(e){E(t,e,!1,x)},options:O,value:n.columns,isLoading:null===N||void 0===N?void 0:N.columns,isDisabled:!(null===O||void 0===O?void 0:O.length),isClearable:!0,isMulti:!0})),l.a.createElement("div",{className:"button-div"},l.a.createElement(b.a,{loading:null===N||void 0===N?void 0:N.edit,onClick:function(e){o(t,n,x)}},"Update"),l.a.createElement(b.a,{loading:null===N||void 0===N?void 0:N.delete,kind:b.a.kinds.TERTIARY,color:b.a.colors.NEGATIVE,className:"add-button",onClick:function(e){m(t,x)}},"Delete"))):l.a.createElement("div",{className:"loader-div"},l.a.createElement("div",{className:"loader"},l.a.createElement(f.a,null)))}var g=n(19);function j(e){var t=e.getBoardColumns,n=e.account,o=(e.getRestrictionLabels,e.boardsForDropdown),u=e.restrictions,d=e.setRestrictions,m=e.validateNewRestriction,b=e.getRestrictions;Object(s.useEffect)((function(){n&&b()}),[n]);var v=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r("edit",!0),!m(a)){e.next=7;break}return e.next=4,g.c(a,n);case 4:o=e.sent.data,u[t]=o,d(u);case 7:r("edit",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),f=function(e,t,n,o){if(n){o("board",!0);var c=u;c[e]={board:t,columns:[]},d(Object(r.a)(c)),o("board",!1)}else{o("columns",!0);var i=u;i[e]=Object(a.a)(Object(a.a)({},u[e]),{},{columns:t}),d(Object(r.a)(i)),o("columns",!1)}},p=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("delete",!0),a=u[t],e.next=4,g.b(a);case 4:e.sent,o=u.filter((function(e){return e._id!==a._id})),n("delete",!1),d(Object(r.a)(o));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"existing-restrictions"},null===u||void 0===u?void 0:u.map((function(e,n){return l.a.createElement(E,{key:n,i:n,restriction:e,getBoardColumns:t,editRestriction:v,deleteRestriction:p,boardsForDropdown:o,onSetRestriction:f})})))}n.d(t,"default",(function(){return j}))}}]);
//# sourceMappingURL=6.69fb0645.chunk.js.map