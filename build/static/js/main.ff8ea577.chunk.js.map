{"version":3,"sources":["services/utils.js","App.js","serviceWorker.js","index.js"],"names":["domain","addBoardRestriction","restriction","a","filteredRestriction","filterRestriction","axios","post","newRestriction","data","getExistingBoardRestrictions","accountId","get","existing","editRestriction","account","put","deleteRestriction","_id","delete","deleted","boardId","board","value","columnIds","columns","map","rest","groupId","group","RestrictionCreator","lazy","ExistingRestrictions","NavBar","Footer","monday","mondaySdk","App","useState","boards","setBoards","console","log","length","slug","setAccount","currentNav","setCurrentNav","existingRestrictions","setExistingRestrictions","useEffect","window","location","hash","includes","getBoards","table","href","NODE_ENV","process","getRestrictions","addNewRestriction","col","_newRestriction","utils","getRestrictionLabels","labeledRestriction","getBoardColumnsAndGroups","query","api","res","groups","filteredColumns","filter","title","type","id","label","mappedGroups","rests","Promise","all","fullRests","restrictions","labeled","JSON","stringify","boardName","name","push","Number","_boards","boardsForDropdown","useMemo","validateNewRestriction","isNew","isExists","checkExistence","Swal","fire","html","icon","returnFocus","allowEnterKey","allowEscapeKey","text","find","fallback","className","path","element","setRestrictions","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.ff8ea577.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst domain =\r\n  process.env.NODE_ENV !== \"development\"\r\n    ? \"https://histadrut-inters.herokuapp.com\"\r\n    : \"https://a5a7-2a0e-9cc0-24cb-7e00-115e-fe2d-b1c7-26d3.eu.ngrok.io\";\r\nexport async function addBoardRestriction(restriction) {\r\n  const filteredRestriction = filterRestriction(restriction);\r\n  // console.log(\r\n  // `addBoardRestriction -> filteredRestriction`,\r\n  // filteredRestriction\r\n  // );\r\n  const newRestriction = await axios.post(\r\n    `${domain}/restriction/board`,\r\n    filteredRestriction\r\n  );\r\n  return newRestriction.data;\r\n}\r\nexport async function getExistingBoardRestrictions(accountId) {\r\n  const existing = await axios.get(\r\n    `${domain}/restriction/account/${accountId}`\r\n  );\r\n  return existing.data;\r\n}\r\nexport async function editRestriction(restriction, account) {\r\n  restriction.account = account;\r\n  const filteredRestriction = filterRestriction(restriction);\r\n  // console.log(`editRestriction -> filteredRestriction`, filteredRestriction);\r\n  // console.log(`editRestriction -> restriction`, restriction);\r\n  const edited = await axios.put(\r\n    `${domain}/restriction/board`,\r\n    filteredRestriction\r\n  );\r\n  // console.log(`editRestriction -> edited`, edited);\r\n  if (edited) return restriction;\r\n}\r\nexport async function deleteRestriction(restriction) {\r\n  const { _id } = restriction;\r\n  const deleted = await axios.delete(`${domain}/restriction/board/${_id}`);\r\n  // console.log(`deleteRestriction -> deleted`, deleted);\r\n  return deleted;\r\n}\r\nfunction filterRestriction(restriction) {\r\n  const filteredRestriction = {\r\n    accountId: restriction.accountId || restriction.account,\r\n    boardId: restriction?.board?.value,\r\n    // ? Number(restriction.board.value)\r\n    // : restriction.boardId,\r\n    columnIds: restriction.columns.map((rest) => rest?.value),\r\n    // columnIds: restriction.columns.map((rest) => rest?.value || rest),\r\n    groupId: restriction?.group?.value,\r\n    // ? Number(restriction.group.value)\r\n    // : restriction.groupId,\r\n    _id: restriction._id,\r\n  };\r\n  // filteredRestriction.;\r\n  // filteredRestriction.;\r\n  // filteredRestriction.;\r\n  // console.log(`filterRestriction -> filteredRestriction`, filteredRestriction);\r\n  return filteredRestriction;\r\n}\r\n","import React, { lazy, Suspense, useEffect, useMemo, useState } from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport \"monday-ui-react-core/dist/main.css\";\nimport Swal from \"sweetalert2\";\nimport Loader from \"monday-ui-react-core/dist/Loader\";\nimport * as utils from \"./services/utils\";\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\nconst RestrictionCreator = lazy(() => import(\"./views/RestrictionCreator\"));\nconst ExistingRestrictions = lazy(() => import(\"./views/ExistingRestrictions\"));\nconst NavBar = lazy(() => import(\"./components/NavBar\"));\nconst Footer = lazy(() => import(\"./components/Footer\"));\n\nconst monday = mondaySdk();\n\nexport default function App() {\n  const [boards, setBoards] = useState([]);\n  console.log(`App -> boards`, boards.length);\n  const [account, setAccount] = useState({ accountId: null, slug: null });\n  const [currentNav, setCurrentNav] = useState(\"\");\n  const [existingRestrictions, setExistingRestrictions] = useState([]);\n  useEffect(() => {\n    setCurrentNav(\n      window.location.hash.includes(\"create\") ? \"create\" : \"existing\"\n    );\n    getBoards();\n    console.table({\n      href: window.location.href,\n      NODE_ENV: process.env.NODE_ENV,\n    });\n    console.log(\"אהוב את המלאכה\");\n  }, []);\n  useEffect(() => {\n    account.accountId && getRestrictions();\n  }, [account]);\n  // useEffect(() => {\n  //   const filteredBoards = boards?.filter(\n  //     (board) =>\n  //       !existingRestrictions.find(\n  //         (restriction) =>\n  //           Number(restriction?.board?.value) === Number(board?.id)\n  //       )\n  //   );\n  //   setBoards(filteredBoards);\n  // }, [existingRestrictions]);\n  const addNewRestriction = async (newRestriction) => {\n    console.log(`addNewRestriction -> newRestriction`, newRestriction);\n    const columnIds = newRestriction.columns.map((col) => col?.value);\n    const _newRestriction = {\n      accountId: account.accountId,\n\n      ...newRestriction,\n    };\n    const _newRest = await utils.addBoardRestriction(_newRestriction);\n    const labeledRestriction = await getRestrictionLabels([newRestriction]);\n    console.log(`addNewRestriction -> labeledRestriction`, labeledRestriction);\n    setExistingRestrictions([...existingRestrictions, ...labeledRestriction]);\n  };\n\n  const getBoardColumnsAndGroups = async (restriction) => {\n    try {\n      const { board } = restriction;\n      if (board?.value) {\n        const query = `query{\n          boards(ids:${board.value}){\n            groups{\n              id\n              title\n            }\n            columns{\n              id\n              type\n              title\n            }\n          }\n        }`;\n        const res = await monday.api(query);\n        const { columns, groups } = res.data.boards[0];\n        console.log(\n          `getBoardColumnsAndGroups -> columns, groups`,\n          columns,\n          groups\n        );\n        const filteredColumns = columns\n          .filter(\n            (col) =>\n              col.title !== \"Name\" &&\n              ![\n                \"pulse-updated\",\n                \"lookup\",\n                \"formula\",\n                \"columns-battery\",\n                \"button\",\n              ].includes(col.type)\n          )\n          .map((col) => {\n            return { value: col.id, label: col.title };\n          });\n        const mappedGroups = groups?.map((group) => {\n          return { value: group.id, label: group.title };\n        });\n        return { columns: filteredColumns, groups: mappedGroups };\n      } else {\n      }\n    } catch (err) {\n      console.log(`getBoardColumnsAndGroups -> err`, err);\n    }\n  };\n  const getRestrictions = async () => {\n    let rests = await utils.getExistingBoardRestrictions(account.accountId);\n    rests = await Promise.all(rests);\n    const fullRests = await getRestrictionLabels(rests);\n    setExistingRestrictions(fullRests);\n  };\n  const getRestrictionLabels = async (restrictions) => {\n    console.log(`getRestrictionLabels -> restrictions`, restrictions);\n    try {\n      const labeled = [];\n      for (let restriction of restrictions) {\n        const groupId = restriction?.group?.value || restriction?.groupId;\n        const columnIds =\n          restriction?.columns?.map((col) => col.id || col.value) ||\n          restriction?.columnIds;\n        const query = `query{ \n          boards(ids:${restriction.boardId || restriction.board.value}){\n            name\n            groups(ids:[${JSON.stringify(groupId)}]){\n              title\n              id\n            }\n            columns(ids:${JSON.stringify(columnIds)}){\n              id\n              title\n            }\n          }\n        }`;\n        console.log(`getRestrictionLabels -> query`, query);\n        const res = await monday.api(query);\n        console.log(`getRestrictionLabels -> res`, res.data.boards[0]);\n        const boardName = res.data.boards[0].name;\n        const group = {\n          label: res.data.boards[0].groups[0].title,\n          value: restriction.groupId,\n        };\n        const columns = res.data.boards[0].columns.map((col) => {\n          return { value: col.id, label: col.title };\n        });\n        labeled.push({\n          board: {\n            value: Number(restriction.boardId),\n            label: boardName,\n          },\n          columns,\n          group,\n          _id: restriction._id,\n        });\n      }\n      return labeled;\n    } catch (error) {\n      console.log(`getRestrictionLabels -> error`, error);\n    }\n  };\n\n  const getBoards = async () => {\n    const query = `query{\n      account{\n        id\n        slug\n      }\n      boards(limit:2000){\n        name\n        id\n      }\n    }`;\n    const res = await monday.api(query);\n    setAccount({\n      accountId: Number(res.data.account.id),\n      slug: res.data.account.slug,\n    });\n    // console.log(`getBoards -> res`, res.data);\n    const _boards = res.data.boards;\n    setBoards(_boards);\n  };\n\n  const boardsForDropdown = useMemo(() => {\n    if (boards?.length) {\n      return boards.map((board) => {\n        return { label: board.name, value: board.id };\n      });\n    }\n  }, [boards]);\n  const validateNewRestriction = (restriction, isNew) => {\n    console.log(`validateNewRestriction -> isNew`, isNew);\n    console.log(`validateNewRestriction -> restriction`, restriction);\n\n    const { board, group, columns } = restriction;\n    // const { columns } = restriction;\n    if (\n      // isNew?\n      board.label &&\n      board.value &&\n      group.label &&\n      group.value &&\n      columns.length\n      // : boardId\n    ) {\n      const isExists = checkExistence(restriction) && isNew; // if it's an existing restriction dont check for existence\n      console.log(`validateNewRestriction -> isExists`, isExists);\n      if (isExists) {\n        Swal.fire({\n          title: \"Couldn't add restriction\",\n          html: `<p>You already have an existing restriction on <b>${restriction.group.label}</b> group in <b>${restriction.board.label}</b> board</p>`,\n          icon: \"error\",\n          returnFocus: true,\n          allowEnterKey: true,\n          allowEscapeKey: true,\n        });\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      Swal.fire({\n        title: \"Couldn't add restriction\",\n        text: \"some columns are missing\",\n        icon: \"error\",\n        returnFocus: true,\n        allowEnterKey: true,\n        allowEscapeKey: true,\n      });\n      return false;\n    }\n  };\n  const checkExistence = (restriction) => {\n    console.log(`checkExistence -> restriction`, restriction);\n    const existing = existingRestrictions.find(\n      (rest) =>\n        Number(rest.board.value) === Number(restriction.board.value) &&\n        rest.group.value === restriction.group.value\n    );\n    console.log(`existing -> existing`, existing);\n    return !!existing;\n  };\n\n  return (\n    <Suspense\n      fallback={\n        <div className=\"loader-div\">\n          <div className=\"loader\">\n            <Loader />\n          </div>\n        </div>\n      }\n    >\n      <div className=\"App\">\n        <HashRouter>\n          <NavBar currentNav={currentNav} setCurrentNav={setCurrentNav} />\n          <Routes>\n            <Route\n              path=\"/create\"\n              element={\n                <RestrictionCreator\n                  boardsForDropdown={boardsForDropdown}\n                  boards={boards}\n                  monday={monday}\n                  addNewRestriction={addNewRestriction}\n                  getBoardColumnsAndGroups={getBoardColumnsAndGroups}\n                  validateNewRestriction={validateNewRestriction}\n                  slug={account?.slug}\n                />\n              }\n            />\n            <Route\n              path=\"/\"\n              element={\n                <ExistingRestrictions\n                  boardsForDropdown={boardsForDropdown}\n                  getBoardColumnsAndGroups={getBoardColumnsAndGroups}\n                  account={account?.accountId}\n                  restrictions={existingRestrictions}\n                  setRestrictions={setExistingRestrictions}\n                  validateNewRestriction={validateNewRestriction}\n                  getRestrictions={getRestrictions}\n                  monday={monday}\n                />\n              }\n            />\n          </Routes>\n          <Footer />\n        </HashRouter>\n      </div>\n    </Suspense>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}